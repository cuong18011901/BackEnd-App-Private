generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "postgresql"
    url      = env("DATABASE_URL")
}

// Account Model
model account {
    id              Int                @id @default(autoincrement())
    avatar          String?
    fullName        String?            @map("full_name")
    email           String?            @unique
    passcode        String?
    tell            String?
    address         String?
    phone           String             @unique
    status          Int                @default(0)
    createdAt       DateTime           @default(now()) @map("created_at")
    updatedAt       DateTime?          @updatedAt @map("updated_at")
    deleteAt        DateTime?          @map("delete_at")
    accountCategory account_category[]
    accountBill     account_bill[]
}

// Account Balance Model
model account_category {
    id          Int            @id @default(autoincrement())
    accountId   Int            @map("account_id")
    code        String?
    name        String         @default("Category")
    createdAt   DateTime       @default(now()) @map("created_at")
    updatedAt   DateTime?      @updatedAt @map("updated_at")
    deleteAt    DateTime?      @map("delete_at")
    account     account[]      @relation(fields: [accountId], references: [id])
    accountBill account_bill[]
}

// Account Transaction Model
model account_bill {
    id         Int              @id @default(autoincrement())
    code       String?
    name       String?
    itemId     Int              @map("item_id")
    listItem   bill_item[]
    categoryId Int              @default(0) @map("category_id")
    createdAt  DateTime         @default(now()) @map("created_at")
    updatedAt  DateTime?        @updatedAt @map("updated_at")
    deleteAt   DateTime?        @map("delete_at")
    accountId  Int              @map("account_id")
    account    account          @relation(fields: [accountId], references: [id])
    category   account_category @relation(fields: [categoryId], references: [id])

}

// Bill item
model bill_item {
    id            Int           @id @default(autoincrement())
    title         String
    price         Float
    accountBillId Int           @map("account_bill_id")
    account_bill  account_bill? @relation(fields: [accountBillId], references: [id])
}
